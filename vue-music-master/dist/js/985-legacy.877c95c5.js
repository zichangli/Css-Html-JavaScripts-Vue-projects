"use strict";(self["webpackChunkmusic163_vue"]=self["webpackChunkmusic163_vue"]||[]).push([[985],{2985:function(e,t,r){r.r(t),r.d(t,{default:function(){return l}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"discovery-container"},[r("el-carousel",{attrs:{interval:4e3,type:"card"}},e._l(e.banners,(function(e,t){return r("el-carousel-item",{key:t},[r("a",{attrs:{target:"_blank",href:null==e.url?"https://gitee.com/S88888888":e.url}},[r("img",{attrs:{src:e.imageUrl,alt:"推荐广告信息"}})])])})),1),r("div",{staticClass:"recommend"},[r("h3",{staticClass:"title"},[e._v("推荐歌单")]),r("div",{staticClass:"items"},e._l(e.list,(function(t,n){return r("div",{key:n,staticClass:"item"},[r("div",{staticClass:"img-wrap"},[r("div",{staticClass:"desc-wrap"},[r("span",{staticClass:"desc"},[e._v(e._s(t.copywriter))])]),r("img",{attrs:{src:t.picUrl,alt:""},on:{click:function(r){return e.playmusiclist(t.id)}}}),r("span",{staticClass:"iconfont icon-play",on:{click:function(r){return e.playmusiclist(t.id)}}},[r("i",{staticClass:"el-icon-video-play"})])]),r("p",{staticClass:"name"},[e._v(e._s(t.name))])])})),0)]),r("div",{staticClass:"news"},[r("h3",{staticClass:"title"},[e._v("最新音乐")]),r("div",{staticClass:"items"},e._l(e.songs,(function(t,n){return r("div",{key:n,staticClass:"item",on:{click:function(r){return e.playMusic(t.id)}}},[r("div",{staticClass:"img-wrap"},[r("img",{attrs:{src:t.picUrl,alt:""}}),r("span",{staticClass:"iconfont icon-play",on:{click:function(r){return e.playMusic(t.id)}}},[r("i",{staticClass:"el-icon-video-play"})])]),r("div",{staticClass:"song-wrap"},[r("div",{staticClass:"song-name"},[e._v(e._s(t.name))]),r("div",{staticClass:"singer"},[e._v(e._s(t.song.artists[0].name))])])])})),0)]),r("div",{staticClass:"mvs"},[r("h3",{staticClass:"title"},[e._v("推荐MV")]),r("div",{staticClass:"items"},e._l(e.mvs,(function(t,n){return r("div",{key:n,staticClass:"item"},[r("div",{staticClass:"img-wrap"},[r("img",{attrs:{src:t.picUrl,alt:"MV图片"},on:{click:function(r){return e.playMusicMv(t.id)}}}),r("span",{staticClass:"iconfont icon-play"},[r("i",{staticClass:"el-icon-video-play",on:{click:function(r){return e.playMusicMv(t.id)}}})]),r("div",{staticClass:"num-wrap"},[r("div",{staticClass:"iconfont icon-play"}),r("div",{staticClass:"num"},[e._v("播放量:"+e._s(t.playCount))])])]),r("div",{staticClass:"info-wrap"},[r("div",{staticClass:"name"},[e._v(e._s(t.name))]),r("div",{staticClass:"singer"},[e._v(e._s(t.artistName))])])])})),0)])],1)},s=[],a=r(6198),i=(r(5666),{data:function(){return{banners:[],list:[],songs:[],mvs:[]}},created:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.banner(),e.personalized(),e.newsong(),e.personalizedMv(),e.isLogon();case 5:case"end":return t.stop()}}),t)})))()},methods:{banner:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/banner",{responseType:"json",withCredentials:!0});case 2:if(r=t.sent,n=r.data,200===n.code){t.next=8;break}return t.abrupt("return",e.$message.error("error:轮播图数据获取失败 "));case 8:e.banners=n.banners;case 9:case"end":return t.stop()}}),t)})))()},personalized:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/personalized?limit=10");case 2:if(r=t.sent,n=r.data,200===n.code){t.next=8;break}return t.abrupt("return",e.$message.error("error:歌单数据获取失败 "));case 8:e.list=n.result;case 9:case"end":return t.stop()}}),t)})))()},newsong:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/personalized/newsong");case 2:if(r=t.sent,n=r.data,200===n.code){t.next=8;break}return t.abrupt("return",e.$message.error("error:最新歌曲获取失败 "));case 8:e.songs=n.result;case 9:case"end":return t.stop()}}),t)})))()},personalizedMv:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/personalized/Mv");case 2:if(r=t.sent,n=r.data,200===n.code){t.next=8;break}return t.abrupt("return",e.$message.error("error:最新MV获取失败 "));case 8:e.mvs=n.result;case 9:case"end":return t.stop()}}),t)})))()},playMusic:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function r(){var n,s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.get("/song/url?id="+e);case 2:if(n=r.sent,s=n.data,200===s.code){r.next=8;break}return r.abrupt("return",t.$message.error("error:获取歌曲地址失败，请检查版权...或者网络 "));case 8:a=s.data[0].url,t.$parent.musicUrl=a;case 10:case"end":return r.stop()}}),r)})))()},playMusicMv:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""!=e){r.next=6;break}return r.next=3,t.$message.error("error:获取MV失败，请检查版权...或者网络 ");case 3:return r.abrupt("return",r.sent);case 6:return r.next=8,t.$router.push("/PlayMusicMV?q="+e);case 8:case"end":return r.stop()}}),r)})))()},playmusiclist:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""!=e){r.next=6;break}return r.next=3,t.$message.error("error:获取歌单失败，请检查版权...或者网络 ");case 3:return r.abrupt("return",r.sent);case 6:return r.next=8,t.$router.push("/PlayMusicList?q="+e);case 8:case"end":return r.stop()}}),r)})))()},isLogon:function(){sessionStorage.getItem("userid"),sessionStorage.getItem("token")}}}),c=i,u=r(3736),o=(0,u.Z)(c,n,s,!1,null,null,null),l=o.exports}}]);
//# sourceMappingURL=985-legacy.877c95c5.js.map
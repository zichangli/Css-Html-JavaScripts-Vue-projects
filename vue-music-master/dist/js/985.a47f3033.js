"use strict";(self["webpackChunkmusic163_vue"]=self["webpackChunkmusic163_vue"]||[]).push([[985],{2985:function(s,t,i){i.r(t),i.d(t,{default:function(){return o}});var a=function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"discovery-container"},[i("el-carousel",{attrs:{interval:4e3,type:"card"}},s._l(s.banners,(function(s,t){return i("el-carousel-item",{key:t},[i("a",{attrs:{target:"_blank",href:null==s.url?"https://gitee.com/S88888888":s.url}},[i("img",{attrs:{src:s.imageUrl,alt:"推荐广告信息"}})])])})),1),i("div",{staticClass:"recommend"},[i("h3",{staticClass:"title"},[s._v("推荐歌单")]),i("div",{staticClass:"items"},s._l(s.list,(function(t,a){return i("div",{key:a,staticClass:"item"},[i("div",{staticClass:"img-wrap"},[i("div",{staticClass:"desc-wrap"},[i("span",{staticClass:"desc"},[s._v(s._s(t.copywriter))])]),i("img",{attrs:{src:t.picUrl,alt:""},on:{click:function(i){return s.playmusiclist(t.id)}}}),i("span",{staticClass:"iconfont icon-play",on:{click:function(i){return s.playmusiclist(t.id)}}},[i("i",{staticClass:"el-icon-video-play"})])]),i("p",{staticClass:"name"},[s._v(s._s(t.name))])])})),0)]),i("div",{staticClass:"news"},[i("h3",{staticClass:"title"},[s._v("最新音乐")]),i("div",{staticClass:"items"},s._l(s.songs,(function(t,a){return i("div",{key:a,staticClass:"item",on:{click:function(i){return s.playMusic(t.id)}}},[i("div",{staticClass:"img-wrap"},[i("img",{attrs:{src:t.picUrl,alt:""}}),i("span",{staticClass:"iconfont icon-play",on:{click:function(i){return s.playMusic(t.id)}}},[i("i",{staticClass:"el-icon-video-play"})])]),i("div",{staticClass:"song-wrap"},[i("div",{staticClass:"song-name"},[s._v(s._s(t.name))]),i("div",{staticClass:"singer"},[s._v(s._s(t.song.artists[0].name))])])])})),0)]),i("div",{staticClass:"mvs"},[i("h3",{staticClass:"title"},[s._v("推荐MV")]),i("div",{staticClass:"items"},s._l(s.mvs,(function(t,a){return i("div",{key:a,staticClass:"item"},[i("div",{staticClass:"img-wrap"},[i("img",{attrs:{src:t.picUrl,alt:"MV图片"},on:{click:function(i){return s.playMusicMv(t.id)}}}),i("span",{staticClass:"iconfont icon-play"},[i("i",{staticClass:"el-icon-video-play",on:{click:function(i){return s.playMusicMv(t.id)}}})]),i("div",{staticClass:"num-wrap"},[i("div",{staticClass:"iconfont icon-play"}),i("div",{staticClass:"num"},[s._v("播放量:"+s._s(t.playCount))])])]),i("div",{staticClass:"info-wrap"},[i("div",{staticClass:"name"},[s._v(s._s(t.name))]),i("div",{staticClass:"singer"},[s._v(s._s(t.artistName))])])])})),0)])],1)},e=[],r={data(){return{banners:[],list:[],songs:[],mvs:[]}},async created(){this.banner(),this.personalized(),this.newsong(),this.personalizedMv(),this.isLogon()},methods:{async banner(){const{data:s}=await this.$http.get("/banner",{responseType:"json",withCredentials:!0});if(200!==s.code)return this.$message.error("error:轮播图数据获取失败 ");this.banners=s.banners},async personalized(){const{data:s}=await this.$http.get("/personalized?limit=10");if(200!==s.code)return this.$message.error("error:歌单数据获取失败 ");this.list=s.result},async newsong(){const{data:s}=await this.$http.get("/personalized/newsong");if(200!==s.code)return this.$message.error("error:最新歌曲获取失败 ");this.songs=s.result},async personalizedMv(){const{data:s}=await this.$http.get("/personalized/Mv");if(200!==s.code)return this.$message.error("error:最新MV获取失败 ");this.mvs=s.result},async playMusic(s){const{data:t}=await this.$http.get("/song/url?id="+s);if(200!==t.code)return this.$message.error("error:获取歌曲地址失败，请检查版权...或者网络 ");{let s=t.data[0].url;this.$parent.musicUrl=s}},async playMusicMv(s){if(""==s)return await this.$message.error("error:获取MV失败，请检查版权...或者网络 ");await this.$router.push("/PlayMusicMV?q="+s)},async playmusiclist(s){if(""==s)return await this.$message.error("error:获取歌单失败，请检查版权...或者网络 ");await this.$router.push("/PlayMusicList?q="+s)},isLogon(){sessionStorage.getItem("userid"),sessionStorage.getItem("token")}}},n=r,c=i(3736),l=(0,c.Z)(n,a,e,!1,null,null,null),o=l.exports}}]);
//# sourceMappingURL=985.a47f3033.js.map